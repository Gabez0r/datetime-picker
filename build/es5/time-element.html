<html><head><link rel="import" href="../polymer/polymer-element.html"></head><body><dom-module id="time-element"><template strip-whitespace=""><style>:host{display:inline-block;font-family:inherit;background-color:var(--calendar-background, #252525);color:var(--calendar-color, #ccc);-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;outline-width:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;--calendar-selected:var(--primary-color, #253EEC);font-size:0.8em;padding:6px;@apply --calendar-element;}:host > *{position:relative;}#content{width:100%;display:inline-flex;flex-direction:row;align-items:center;justify-content:center;}#content > *{position:relative;display:flex;flex-direction:column;flex-wrap:nowrap;align-items:center;}.field{@apply --calendar-timer-field;}.button{cursor:pointer;will-change:background-color;transition:background-color 150ms cubic-bezier(0.6, 1, 0.2, 1);color:inherit;fill:currentColor;height:1.75em;width:100%;@apply --calendar-timer-button;}.button:hover{cursor:pointer;background-color:var(--calendar-selected);}input.time{border-radius:2px;-moz-appearance:textfield;padding:0.25em;width:1.5em;height:1.5em;outline:none;font-family:inherit;text-align:center;border:none;background-color:var(--calendar-background, #333);color:inherit;@apply --calendar-time;}input.time::-webkit-outer-spin-button,
      input.time::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}input::-webkit-input-placeholder{color:currentColor;}input.time:focus{background-color:var(--calendar-selected);}#icon{@apply --calendar-icon;}#icon:hover{background-color:var(--calendar-selected);}</style><div id="content"><div class="field"><svg class="button" viewBox="0 0 24 24" on-mousedown="_startIncrem" on-mouseup="_stopIncrem" on-touchstart="_startIncrem" on-touchend="_stopIncrem" for="hour" step="1"><g><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g></svg> <input class="time" id="hour" type="number" min="0" max="23" step="1" tabindex="0" on-keydown="_checkKeycode" value="{{hour::input}}" placeholder="00"> <svg class="button" viewBox="0 0 24 24" on-mousedown="_startIncrem" on-mouseup="_stopIncrem" on-touchstart="_startIncrem" on-touchend="_stopIncrem" for="hour" step="-1"><g><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g></svg></div>:<div class="field"><svg class="button" viewBox="0 0 24 24" on-mousedown="_startIncrem" on-mouseup="_stopIncrem" on-touchstart="_startIncrem" on-touchend="_stopIncrem" for="minute" step="1"><g><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g></svg> <input class="time" id="minute" type="number" min="0" max="59" step="1" tabindex="1" on-keydown="_checkKeycode" value="{{minute::input}}" placeholder="00"> <svg class="button" viewBox="0 0 24 24" on-mousedown="_startIncrem" on-mouseup="_stopIncrem" on-touchstart="_startIncrem" on-touchend="_stopIncrem" for="minute" step="-1"><g><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g></svg></div>:<div class="field"><svg class="button" viewBox="0 0 24 24" on-mousedown="_startIncrem" on-mouseup="_stopIncrem" on-touchstart="_startIncrem" on-touchend="_stopIncrem" for="second" step="1"><g><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g></svg> <input class="time" id="second" type="number" min="0" max="59" step="1" tabindex="2" on-keydown="_checkKeycode" value="{{second::input}}" placeholder="00"> <svg class="button" viewBox="0 0 24 24" for="second" step="-1" on-mousedown="_startIncrem" on-mouseup="_stopIncrem" on-touchstart="_startIncrem" on-touchend="_stopIncrem"><g><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g></svg></div><div><svg id="icon" hidden$="[[!closable]]" viewBox="0 0 24 24" on-click="close"><g><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g></svg></div></div></template><script>var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(e===void 0){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0===g?void 0:g.call(d)};function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var TimeElement=function(a){function b(){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return _inherits(b,a),_createClass(b,[{key:"connectedCallback",value:function(){var a=this;_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"connectedCallback",this).call(this),setTimeout(function(){var b=new Date("1970-01-01 "+a.time),c=+b?b:new Date;a.time=a._pad(c.getHours())+":"+a._pad(c.getMinutes())+":"+a._pad(c.getSeconds())},0)}},{key:"_pad",value:function(a){return 10>a?"0"+a:""+a}},{key:"_timeChanged",value:function(a,b,c){if(void 0!==a&&void 0!==b&&void 0!==c){var d=this._checktime(this._pad(a)+":"+this._pad(b)+":"+this._pad(c));this.time!==d&&(this.time=d)}}},{key:"_timeStringChanged",value:function(a){a=this._checktime(a||"00:00:00"),a=a.split(":").map(function(a){return parseInt(a)}),(a[0]!==this.hour||a[1]!==this.minute||a[2]!==this.second)&&this.setProperties({hour:a[0],minute:a[1],second:a[2]})}},{key:"_checkKeycode",value:function(a){if(!a.target)return void(a&&a.preventDefault&&a.preventDefault());var b=39===a.keyCode?1:37===a.keyCode?-1:0;if(b){for(var c=["hour","minute","second"],d=void 0,e=0;e<c.length;e++)c[e]===a.target.id&&(d=e);return void this.$[c[(d+b+3)%3]].focus()}}},{key:"_checktime",value:function(b){var c,a=b.split(":"),d="";return 3===a.length?(c=parseInt(a[0]),d+=isNaN(c)||0>c||23<c?"00:":this._pad(c)+":",c=parseInt(a[1]),d+=isNaN(c)||0>c||59<c?"00:":this._pad(c)+":",c=parseInt(a[2]),d+=isNaN(c)||0>c||59<c?"00":this._pad(c),d):"00:00:00"}},{key:"_startIncrem",value:function(a){var b=this;this._stopIncrem();var c=a.currentTarget||a.path[0],d=c.getAttribute("for"),e=parseInt(c.getAttribute("step"));this._increm(d,e),this._activeJob=setInterval(function(){b._increm(d,e)},200)}},{key:"_stopIncrem",value:function(){this._activeJob&&clearInterval(this._activeJob)}},{key:"_increm",value:function(a,b){a&&b&&("hour"===a?this.set("hour",(parseInt(this.hour)+b+24)%24):"minute"===a||"second"===a?this.set(a,(parseInt(this[a])+b+60)%60):void 0)}},{key:"toggle",value:function(){this.opened=!this.opened}},{key:"open",value:function(){this.opened=!0}},{key:"close",value:function(){this.opened=!1}}],[{key:"is",get:function(){return"time-element"}},{key:"properties",get:function(){return{opened:{type:Boolean,notify:!0,reflectToAttribute:!0},closable:{type:Boolean,notify:!0,reflectToAttribute:!0},time:{type:String,notify:!0},hour:{type:Number,notify:!0},minute:{type:Number,notify:!0},second:{type:Number,notify:!0}}}},{key:"observers",get:function(){return["_timeChanged(hour, minute, second)","_timeStringChanged(time)"]}}]),b}(Polymer.Element);window.customElements.define(TimeElement.is,TimeElement);</script></dom-module></body></html>