<html><head><link rel="import" href="../polymer/polymer-element.html"></head><body><dom-module id="calendar-element"><template strip-whitespace=""><style>:host{display:inline-block;font-family:inherit;background-color:var(--calendar-background, #252525);color:var(--calendar-color, #ccc);-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;outline-width:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;--calendar-selected:var(--primary-color, #253EEC);padding:6px;@apply --calendar-element;}:host > *{position:relative;}#top{width:100%;display:inline-flex;flex-direction:row;align-items:center;font-size:1em;}.view{flex:1;display:inline-flex;flex-direction:row;align-items:center;justify-content:center;cursor:pointer;}#calendar{display:table;}#header{display:table-header-group;@apply --calendar-caption;}#dates{display:table-row-group;@apply --calendar-date;}.week{font-size:0.8em;display:table-row;}.day{display:table-cell;padding:0.5ch;margin:0;min-width:3ch;height:3ch;box-sizing:content-box;line-height:3ch;text-align:center;border-radius:50%;border-style:solid;border-width:1px;border-color:transparent;}#dates .day:hover{border-color:rgba(255, 255, 255, 0.25);}.day.notinmonth{opacity:0.5;}.day.selected{background-color:var(--calendar-selected);border-color:transparent !important;}.day.current{border-style:solid;border-width:thin;border-color:var(--calendar-selected) !important;}.day.outofrange{opacity:0.15;font-style:italic;pointer-events:none;}.day,
      .button{cursor:pointer;will-change:background-color;transition:background-color 150ms cubic-bezier(0.6, 1, 0.2, 1);fill:currentColor;}.button{height:1em;padding:0.5em;}.button:hover{background-color:var(--calendar-selected);}#viewMonth{float:left;margin-right:0.3em;}#viewYear{float:left;font-weight:bold;}input::-webkit-input-placeholder{color:currentColor;}#icon{@apply --calendar-icon;}#icon:hover{background-color:var(--calendar-selected);}</style><div id="top"><svg class="button" on-mousedown="_prevMonth" on-touchstart="_prevMonth" on-mouseup="_cancelTimeout" on-touchend="_cancelTimeout" aria-label="previous" viewBox="0 0 24 24"><g><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g></svg><section class="view" on-click="_jumpToNow"><div id="viewMonth"></div><div id="viewYear"></div></section><svg class="button" on-mousedown="_nextMonth" on-touchstart="_nextMonth" on-mouseup="_cancelTimeout" on-touchend="_cancelTimeout" aria-label="next" viewBox="0 0 24 24"><g><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g></svg> <svg id="icon" hidden$="[[!closable]]" viewBox="0 0 24 24" on-click="close"><g><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g></svg></div><div id="calendar"><div id="header"><div id="caption" class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div></div><div id="dates" on-click="_onClick"><div class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div><div class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div><div class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div><div class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div><div class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div><div class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div></div></div></template><script>var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(e===void 0){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0===g?void 0:g.call(d)};function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var CalendarElement=function(a){function b(){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return _inherits(b,a),_createClass(b,[{key:"connectedCallback",value:function(){var a=this;_get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"connectedCallback",this).call(this),setTimeout(function(){var b=a.date?new Date(a.date):new Date;a.date=a._toDate(b.getFullYear(),b.getMonth(),b.getDate())},0)}},{key:"_dateChanged",value:function(a){var b=new Date(a),c=this.min?new Date(this.min):void 0,e=this.max?new Date(this.max):void 0;!b||c&&c>b||e&&e<b?this.set("date",null):this.set("date",this._toDate(b)),this.set("viewDate",+new Date(b.getFullYear(),b.getMonth())),this.render()}},{key:"_pad",value:function(a){return 10>a?"0"+a:""+a}},{key:"_onClick",value:function(a){if(a)for(var b=a.path||[a.target],c=0;c<b.length;c++)if(b[c].dataset&&b[c].dataset.date){this._prevSelected&&this._prevSelected.classList.remove("selected"),b[c].classList.add("selected"),this.date=b[c].dataset.date,this._prevSelected=b[c];break}}},{key:"_jumpToNow",value:function(){var a=new Date;this.viewDate=+new Date(a.getFullYear(),a.getMonth())}},{key:"_prevMonth",value:function(){var a=this;this._cancelTimeout(),this._incremMonth(-1),this._activeJob=setInterval(function(){a._incremMonth(-1)},200)}},{key:"_nextMonth",value:function(){var a=this;this._cancelTimeout(),this._incremMonth(1),this._activeJob=setInterval(function(){a._incremMonth(1)},200)}},{key:"_incremMonth",value:function(a){var b=new Date(this.viewDate);b&&(this.viewDate=+new Date(b.getFullYear(),b.getMonth()+a))}},{key:"_cancelTimeout",value:function(){this._activeJob&&clearInterval(this._activeJob)}},{key:"_localeChanged",value:function(){var a,b=new Date(this.viewDate);b&&(this.$.viewMonth.textContent=b.toLocaleDateString(this.locale,{month:"long"}),this.$.viewYear.textContent=b.toLocaleDateString(this.locale,{year:"numeric"}));for(var c=0;7>c;c++)b=new Date(0,0,c),a=(b.getDay()-1+7)%7,this.$.caption.children[a]&&(this.$.caption.children[a].textContent=b.toLocaleDateString(this.locale,{weekday:"short"}))}},{key:"render",value:function(){var a=Math.ceil,b=Math.floor;if(this.viewDate){var c=new Date(this.viewDate);this.$.viewMonth.textContent=c.toLocaleDateString(this.locale,{month:"long"}),this.$.viewYear.textContent=c.toLocaleDateString(this.locale,{year:"numeric"});var d,e,f,g,h,k,l;k=c.getFullYear(),l=c.getMonth(),f=b(new Date(k,l,1).getTime()/865E5),e=a(new Date().getTime()/865E5)-f,this.date&&(d=a(new Date(this.date).getTime()/865E5)-f),this.min&&(g=a(+new Date(this.min).getTime()/865E5)-f),this.max&&(h=b(+new Date(this.max).getTime()/865E5)-f);for(var m=+new Date(k,l,0).getDate(),n=+new Date(k,l+1,0).getDate(),o=+new Date(k,l,1).getDay()-1,p=-(7+o)+1,q=0;q<this.$.dates.children.length;q++)for(var i=0;i<this.$.dates.children[q].children.length;i++)0>=p?(this.$.dates.children[q].children[i].classList.add("notinmonth"),this.$.dates.children[q].children[i].textContent=m+p):p>n?(this.$.dates.children[q].children[i].classList.add("notinmonth"),this.$.dates.children[q].children[i].textContent=p-n):(this.$.dates.children[q].children[i].classList.remove("notinmonth"),this.$.dates.children[q].children[i].textContent=p),void 0!==d&&p===d?this.$.dates.children[q].children[i].classList.add("selected"):this.$.dates.children[q].children[i].classList.remove("selected"),p===e?this.$.dates.children[q].children[i].classList.add("current"):this.$.dates.children[q].children[i].classList.remove("current"),void 0!==g&&p<g||void 0!==h&&p>h?this.$.dates.children[q].children[i].classList.add("outofrange"):this.$.dates.children[q].children[i].classList.remove("outofrange"),this.$.dates.children[q].children[i].dataset.date=this._toDate(k,l,p),p++}}},{key:"_toDate",value:function(){var a,b=arguments[0],c=arguments[1],d=arguments[2];if(void 0!==d)a=new Date(b,c,d);else if(void 0!==c)a=new Date(b,c);else if(void 0!==b)a=new Date(b);else return;return b=a.getFullYear(),c=this._pad(a.getMonth()+1),d=this._pad(a.getDate()),b+"-"+c+"-"+d}},{key:"_minChanged",value:function(a){if(a){var b=+new Date(a);b?this.render():this.min=void 0}}},{key:"_maxChanged",value:function(a){if(a){var b=+new Date(a);b?this.render():this.max=void 0}}},{key:"toggle",value:function(){this.opened=!this.opened}},{key:"open",value:function(){this.opened=!0}},{key:"close",value:function(){this.opened=!1}}],[{key:"is",get:function(){return"calendar-element"}},{key:"properties",get:function(){return{opened:{type:Boolean,notify:!0,reflectToAttribute:!0},closable:{type:Boolean,notify:!0,reflectToAttribute:!0},date:{type:String,notify:!0,observer:"_dateChanged"},min:{type:String,notify:!0,observer:"_minChanged"},max:{type:String,notify:!0,observer:"_maxChanged"},viewDate:{type:Number,observer:"render"},locale:{type:String,value:window.navigator.language,observer:"_localeChanged"}}}}]),b}(Polymer.Element);window.customElements.define(CalendarElement.is,CalendarElement);</script></dom-module></body></html>